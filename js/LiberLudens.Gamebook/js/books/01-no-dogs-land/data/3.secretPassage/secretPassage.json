{
    "rooms":
    [
        {
            "key": "secretPassage.0",
            "file": "room-secretPassage.0.txt",
			"bookmark": "bookmark.removeChains.activate",
			"type": "text",
            "exits":
			[
				{
                    "text": "crossTheBridge",
                    "target": "secretPassage.bridge.0"
                },
                {
                    "text": "goBack",
                    "target": "entranceHall.entry.fromSecretPassage.0"
                }
            ]
        },
        {
            "key": "secretPassage.bridge.0",
			"type": "hub",
            "exits":
			[
                {
                    "target": "secretPassage.bridge.crossTheBridge.quick.0",
					"condition":
					{
						"and":
						[
							{ "hasNoFlag": "secretPassage.bridge.crumbled" },
							{ "expression": "context.stats.speed > 10" }
						]
					}
                },
				{
                    "target": "secretPassage.bridge.crossTheBridge.slow.0",
					"condition":
					{
						"and":
						[
							{ "hasNoFlag": "secretPassage.bridge.crumbled" },
							{ "expression": "context.stats.speed <= 10" }
						]
					}
                }
            ]
        },
        {
            "key": "secretPassage.bridge.crossTheBridge.quick.0",
            "file": "room-secretPassage.bridge.crossTheBridge.quick.0.txt",
			"type": "text",
			"onRoomExit":
			{
				"setFlag": "secretPassage.bridge.crumbled"
			},
            "exits":
			[
				{
                    "text": "next",
                    "target": "secretPassage.ancestorArmory.0"
                }
            ]
        },
        {
            "key": "secretPassage.bridge.crossTheBridge.slow.0",
            "file": "room-secretPassage.bridge.crossTheBridge.slow.0.txt",
			"type": "text",
            "exits": 
            [
                {
                    "textId": "startOver",
                    "systemTarget": "startOver"
                }
            ]
        },
        {
            "key": "secretPassage.ancestorArmory.0",
            "file": "room-secretPassage.ancestorArmory.0.txt",
			"type": "text",
			"on learnAboutAncestorArmory":
			{
				"replaceKnowledge": { "from": "ancientShrineExistence", "to": "ancestorArmoryExistence" }
			},
            "exits":
			[
				{
                    "text": "next",
                    "target": "secretPassage.ancestorArmory.1"
                }
            ]
        },
        {
            "key": "secretPassage.ancestorArmory.1",
            "file": "room-secretPassage.ancestorArmory.1.txt",
			"type": "text",
			"on takeJaws":
			{
				"addInventory":
				[
					{
						"key": "mithrilJaws",
						"quantity": 1,
						"properties":
						{
							"might": 40
						}
					}
				]
			},
            "exits":
			[
				{
                    "text": "next",
                    "target": "secretPassage.ancestorArmory.2"
                }
            ]
        },
        {
            "key": "secretPassage.ancestorArmory.2",
            "file": "room-secretPassage.ancestorArmory.2.txt",
			"type": "text",
            "exits":
			[
				{
                    "text": "next",
                    "target": "entranceHall.entry.fromSecretPassage.0"
                }
            ]
        }
	]
}
